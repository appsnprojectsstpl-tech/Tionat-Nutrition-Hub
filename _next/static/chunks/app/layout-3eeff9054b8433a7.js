(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{30347:()=>{},44838:(e,t,r)=>{"use strict";r.d(t,{SQ:()=>m,_2:()=>f,lp:()=>p,rI:()=>c,ty:()=>u});var s=r(95155),a=r(12115),n=r(76215),o=r(73158),i=r(10518),l=r(70154),d=r(59434);let c=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,a.forwardRef((e,t)=>{let{className:r,inset:a,children:i,...l}=e;return(0,s.jsxs)(n.ZP,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",r),...l,children:[i,(0,s.jsx)(o.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...a})}).displayName=n.G5.displayName;let m=a.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,...o}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsx)(n.UC,{ref:t,sideOffset:a,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})})});m.displayName=n.UC.displayName;let f=a.forwardRef((e,t)=>{let{className:r,inset:a,...o}=e;return(0,s.jsx)(n.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",r),...o})});f.displayName=n.q7.displayName,a.forwardRef((e,t)=>{let{className:r,children:a,checked:o,...l}=e;return(0,s.jsxs)(n.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:o,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),a]})}).displayName=n.H_.displayName,a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsxs)(n.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(l.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=n.hN.displayName;let p=a.forwardRef((e,t)=>{let{className:r,inset:a,...o}=e;return(0,s.jsx)(n.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",r),...o})});p.displayName=n.JU.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=n.wv.displayName},52558:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>g});var s=r(95155),a=r(87481),n=r(12115),o=r(26621),i=r(74466),l=r(25318),d=r(59434);let c=o.Kq,u=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.LM,{ref:t,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...a})});u.displayName=o.LM.displayName;let m=(0,i.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=n.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)(o.bL,{ref:t,className:(0,d.cn)(m({variant:a}),r),...n})});f.displayName=o.bL.displayName,n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.rc,{ref:t,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...a})}).displayName=o.rc.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.bm,{ref:t,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...a,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=o.bm.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.hE,{ref:t,className:(0,d.cn)("text-sm font-semibold",r),...a})});x.displayName=o.hE.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.VY,{ref:t,className:(0,d.cn)("text-sm opacity-90",r),...a})});function g(){let{toasts:e}=(0,a.dj)();return(0,s.jsxs)(c,{children:[e.map(function(e){let{id:t,title:r,description:a,action:n,...o}=e;return(0,s.jsxs)(f,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[r&&(0,s.jsx)(x,{children:r}),a&&(0,s.jsx)(h,{children:a})]}),n,(0,s.jsx)(p,{})]},t)}),(0,s.jsx)(u,{})]})}h.displayName=o.VY.displayName},61483:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>n});var s=r(95155);r(12115);var a=r(51362);function n(e){let{children:t,...r}=e;return(0,s.jsx)(a.N,{...r,children:t})}},82026:(e,t,r)=>{"use strict";r.d(t,{AppShell:()=>q});var s=r(95155),a=r(6874),n=r.n(a),o=r(15121),i=r(83662),l=r(79556),d=r(75074),c=r(14265),u=r(40154);function m(){let{currentAddress:e}=(0,u.U)();return(0,s.jsx)("header",{className:"sticky top-0 z-40 w-full bg-background/80 backdrop-blur-md border-b border-border/40 transition-all duration-300",children:(0,s.jsxs)("div",{className:"container flex flex-col py-2 gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(n(),{href:"/",className:"flex items-center gap-2 group",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-xl bg-primary/10 group-hover:bg-primary/20 transition-colors",children:(0,s.jsx)(o.A,{className:"h-5 w-5 text-primary"})}),(0,s.jsx)("span",{className:"font-headline font-bold text-xl tracking-tight text-foreground",children:"Tionat"})]}),(0,s.jsx)(c.b,{children:(0,s.jsxs)("button",{className:"flex items-center max-w-[50%] gap-1.5 bg-secondary/50 hover:bg-secondary/70 transition-colors px-3 py-1.5 rounded-full",children:[(0,s.jsx)(i.A,{className:"h-3.5 w-3.5 text-primary shrink-0"}),(0,s.jsxs)("div",{className:"flex flex-col items-start truncate",children:[(0,s.jsx)("span",{className:"text-[10px] uppercase font-bold text-muted-foreground leading-none",children:"Delivering to"}),(0,s.jsx)("span",{className:"text-xs font-semibold truncate w-full text-left",children:e||"Set Location"})]}),(0,s.jsx)(l.A,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"})]})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:(0,s.jsx)(d.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,s.jsx)("input",{type:"text",placeholder:"Search 'protein bars'...",className:"w-full h-10 pl-10 pr-4 rounded-xl bg-secondary/40 border-transparent focus:bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary/30 transition-all text-sm font-medium placeholder:text-muted-foreground/70"})]})]})})}var f=r(35695),p=r(18186),x=r(29471),h=r(89829),g=r(42625),b=r(91721),v=r(59434),j=r(89342),N=r(12115);let y=[{href:"/",label:"Home",icon:p.A},{href:"/categories",label:"Categories",icon:x.A},{href:"/offers",label:"Offers",icon:h.A},{href:"/cart",label:"Cart",icon:g.A},{href:"/profile",label:"Profile",icon:b.A}];function w(){let e=(0,f.usePathname)(),{itemCount:t}=(0,j._)(),[r,a]=(0,N.useState)(!1);return(0,N.useEffect)(()=>{a(!0)},[]),(0,s.jsx)("div",{className:"fixed bottom-0 left-0 z-50 w-full bg-background/80 backdrop-blur-xl border-t border-white/10 dark:border-white/5 pb-safe supports-[backdrop-filter]:bg-background/60",children:(0,s.jsx)("div",{className:"flex items-center justify-around h-16 max-w-lg mx-auto px-1",children:y.map(a=>{let o="/"===a.href?"/"===e:e.startsWith(a.href),i=a.icon;return(0,s.jsxs)(n(),{href:a.href,className:(0,v.cn)("relative flex flex-col items-center justify-center w-full h-full gap-1 transition-all duration-300",o?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,s.jsxs)("div",{className:(0,v.cn)("relative p-1.5 rounded-2xl transition-all duration-300",o&&"bg-primary/10 -translate-y-1"),children:[(0,s.jsx)(i,{className:(0,v.cn)("w-6 h-6 transition-all duration-300",o&&"stroke-[2.5px]")}),"Cart"===a.label&&r&&t>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-accent text-[10px] font-bold text-accent-foreground animate-in zoom-in ring-2 ring-background",children:t})]}),(0,s.jsx)("span",{className:(0,v.cn)("text-[10px] font-medium transition-all duration-300",o?"opacity-100 font-bold":"opacity-70 scale-95"),children:a.label})]},a.label)})})})}var k=r(87374),A=r(91467),C=r(68098),S=r(94815),E=r(30285),P=r(26126),_=r(36936),z=r(68027),L=r(51362),R=r(44838);function T(){let{setTheme:e}=(0,L.D)();return(0,s.jsxs)(R.rI,{children:[(0,s.jsx)(R.ty,{asChild:!0,children:(0,s.jsxs)(E.$,{variant:"outline",size:"icon",children:[(0,s.jsx)(_.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(z.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(R.SQ,{align:"end",children:[(0,s.jsx)(R._2,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(R._2,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(R._2,{onClick:()=>e("system"),children:"System"})]})]})}function I(){let{itemCount:e}=(0,j._)(),[t,r]=(0,N.useState)(!1);return(0,N.useEffect)(()=>{r(!0)},[]),(0,s.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"container flex h-16 items-center gap-8",children:[(0,s.jsxs)(n(),{href:"/",className:"flex items-center gap-2 mr-4",children:[(0,s.jsx)("div",{className:"bg-primary/10 p-2 rounded-xl",children:(0,s.jsx)(o.A,{className:"h-6 w-6 text-primary"})}),(0,s.jsx)("span",{className:"font-headline font-bold text-xl text-primary",children:"Tionat"})]}),(0,s.jsxs)("nav",{className:"flex items-center gap-6 text-sm font-medium",children:[(0,s.jsxs)(n(),{href:"/categories",className:"flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors",children:[(0,s.jsx)(k.A,{className:"h-4 w-4"}),"Categories"]}),(0,s.jsxs)(n(),{href:"/offers",className:"flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors",children:[(0,s.jsx)(A.A,{className:"h-4 w-4"}),"TioRewards"]})]}),(0,s.jsxs)("div",{className:"flex-1 max-w-xl mx-auto relative hidden md:block",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"text",placeholder:"Search for 'avocados'...",className:"w-full h-10 pl-10 pr-4 rounded-full bg-secondary/50 border-transparent focus:bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary/30 transition-all text-sm outline-none"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,s.jsx)(c.b,{children:(0,s.jsx)(E.$,{variant:"ghost",size:"sm",className:"hidden lg:flex mr-2 text-muted-foreground",children:"Set Location"})}),(0,s.jsx)(T,{}),(0,s.jsx)(E.$,{asChild:!0,variant:"ghost",size:"icon",children:(0,s.jsxs)(n(),{href:"/wishlist",children:[(0,s.jsx)(C.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Wishlist"})]})}),(0,s.jsx)(E.$,{asChild:!0,variant:"ghost",size:"icon",className:"relative",children:(0,s.jsxs)(n(),{href:"/cart",children:[(0,s.jsx)(S.A,{className:"h-5 w-5"}),t&&e>0&&(0,s.jsx)(P.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 justify-center p-0 text-[10px]",children:e}),(0,s.jsx)("span",{className:"sr-only",children:"Shopping Cart"})]})}),(0,s.jsx)(E.$,{asChild:!0,variant:"ghost",size:"icon",children:(0,s.jsxs)(n(),{href:"/profile",children:[(0,s.jsx)(b.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Profile"})]})})]})]})})}var O=r(32087);function V(){let[e,t]=(0,N.useState)(!1);return((0,N.useEffect)(()=>{t(!navigator.onLine);let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("offline",e),window.addEventListener("online",r),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",r)}},[]),e)?(0,s.jsx)("div",{className:"fixed bottom-20 md:bottom-4 left-4 right-4 z-[60] animate-in slide-in-from-bottom-5 fade-in duration-500",children:(0,s.jsxs)("div",{className:"bg-destructive text-destructive-foreground px-4 py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 font-bold text-sm",children:[(0,s.jsx)(O.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"No Internet Connection. Trying to reconnect..."})]})}):null}function q(e){let{children:t}=e;return(0,N.useEffect)(()=>(Promise.all([r.e(6267),r.e(8931)]).then(r.bind(r,28931)).then(e=>{let{App:t}=e;t.addListener("backButton",e=>{let{canGoBack:r}=e;r?window.history.back():t.exitApp()})}),()=>{Promise.all([r.e(6267),r.e(8931)]).then(r.bind(r,28931)).then(e=>{let{App:t}=e;t.removeAllListeners()})}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(m,{})}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(I,{})}),(0,s.jsx)("main",{className:(0,v.cn)("min-h-screen","pb-24","md:pb-0 md:pt-6"),children:t}),(0,s.jsx)(V,{}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(w,{})})]})}},89342:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>l,_:()=>d});var s=r(95155),a=r(12115),n=r(87481),o=r(40768);let i=(0,a.createContext)(void 0),l=e=>{let{children:t}=e,{toast:r}=(0,n.dj)(),{user:l,isUserLoading:d}=(0,o.useAuth)(),[c,u]=(0,a.useState)(()=>{try{let e=window.localStorage.getItem("cart");return e?JSON.parse(e):[]}catch(e){return[]}}),[m,f]=(0,a.useState)(()=>{try{let e=window.localStorage.getItem("coupon");return e?JSON.parse(e):null}catch(e){return null}});(0,a.useEffect)(()=>{try{window.localStorage.setItem("cart",JSON.stringify(c))}catch(e){}},[c]),(0,a.useEffect)(()=>{try{m?window.localStorage.setItem("coupon",JSON.stringify(m)):window.localStorage.removeItem("coupon")}catch(e){}},[m]),(0,a.useEffect)(()=>{},[l,d]);let p=e=>{u(t=>t.filter(t=>t.product.id!==e)),r({title:"Item removed",description:"The item has been removed from your cart.",variant:"destructive"})},x=c.reduce((e,t)=>e+t.quantity,0),h=c.reduce((e,t)=>e+t.product.price*t.quantity,0),g=0;if(m)if(h<m.minOrderValue)g=0;else if("PERCENTAGE"===m.discountType){let e=h*m.discountValue/100;g=m.maxDiscount?Math.min(e,m.maxDiscount):e}else g=m.discountValue;let b=Math.max(0,h-g);return(0,s.jsx)(i.Provider,{value:{items:c,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u(r=>r.find(t=>t.product.id===e.id)?r.map(r=>r.product.id===e.id?{...r,quantity:r.quantity+t}:r):[...r,{product:e,quantity:t}])},removeFromCart:p,updateQuantity:(e,t)=>{if(t<=0)return void p(e);u(r=>r.map(r=>r.product.id===e?{...r,quantity:t}:r))},clearCart:()=>{u([]),f(null)},itemCount:x,subtotal:h,coupon:m,applyCoupon:e=>{f(e),r({title:"Coupon Applied",description:"You saved with code ".concat(e.code,"!")})},removeCoupon:()=>{f(null),r({title:"Coupon Removed",description:"The discount has been removed."})},discountAmount:g,total:b},children:t})},d=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},96366:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,30347,23)),Promise.resolve().then(r.t.bind(r,60663,23)),Promise.resolve().then(r.bind(r,82026)),Promise.resolve().then(r.bind(r,61483)),Promise.resolve().then(r.bind(r,52558)),Promise.resolve().then(r.bind(r,40768)),Promise.resolve().then(r.bind(r,89342)),Promise.resolve().then(r.bind(r,40154))}},e=>{var t=t=>e(e.s=t);e.O(0,[5051,2992,3644,4277,6523,9934,3977,1345,5152,5521,6072,2221,4476,9123,1990,8441,1684,7358],()=>t(96366)),_N_E=e.O()}]);